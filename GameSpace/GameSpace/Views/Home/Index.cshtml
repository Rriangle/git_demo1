@using System.Security.Claims
@using Microsoft.AspNetCore.Authentication
@{
    // 這段放在 Home/Index.cshtml 最上面
    var adminAuth = await Context.AuthenticateAsync("AdminCookie");
    var adminPrincipal = adminAuth?.Principal;

    bool isBackoffice =
        (adminPrincipal?.Identity?.IsAuthenticated ?? false)
        || (User?.HasClaim(c => c.Type == "IsManager" && c.Value == "true") ?? false);

    Layout = isBackoffice ? "_LayoutAdmin" : "_Layout";
    ViewData["Title"] = "首頁";
}

<div class="container py-4">
    <h1 class="mb-3">歡迎來到 GameSpace</h1>
    <p class="text-muted">這裡可以放你的首頁內容（前台/後台共用）。</p>
</div>
    